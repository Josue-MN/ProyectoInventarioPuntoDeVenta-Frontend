{% extends 'base-form.html' %}
{% block title %}Registro de Usuario{% endblock %}



{% block header_title %}
<h1 class="header-title">REGISTRO DE USUARIO</h1>
<a href="{% url 'admin-crud-usuario' %}">
    <button class="button-header" type="button">Volver al Inicio</button>
</a>
{% endblock %}

{% block extra_messages %}
{% if errores %}
<section class="messages">
    <div class="message">
        <h1>Corrige los errores en el formulario antes de continuar</h1>
    </div>
</section>
{% endif %}
{% endblock %}

{% block content %}
<form method="POST" novalidate>
    {% csrf_token %}

    <div class="form-group">
        <label for="Username">Username:</label>
        <div class="form-help">Ingrese el nombre de usuario</div>
        {% if errores.Username %}<div class="field-error">• {{ errores.Username.0 }}</div>{% endif %}
        <input type="text" name="Username" id="Username" placeholder="Ej: Pablo123"
               class="input-text" value="{{ data.Username|default:'' }}">
    </div>

    <div class="form-group">
        <label for="CorreoElectronico">Correo Electrónico:</label>
        <div class="form-help">Ingrese un correo electrónico válido</div>
        {% if errores.CorreoElectronico %}<div class="field-error">• {{ errores.CorreoElectronico.0 }}</div>{% endif %}
        <input type="email" name="CorreoElectronico" id="CorreoElectronico"
               placeholder="Ej: usuario@gmail.com" class="input-text"
               value="{{ data.CorreoElectronico|default:'' }}">
    </div>

    <div class="form-group">
        <label for="Empleado">Empleado:</label>
        <div class="form-help">Seleccione el empleado asociado</div>
        {% if errores.Empleado %}<div class="field-error">• {{ errores.Empleado.0 }}</div>{% endif %}
        <select name="Empleado" id="Empleado" class="input-text">
            <option value="">-- Seleccione --</option>
            {% for emp in Empleados %}
                <option value="{{ emp.IdEmpleado }}" {% if data.Empleado == emp.IdEmpleado %}selected{% endif %}>
                    {{ emp.NombreEmpleado }}
                </option>
            {% endfor %}
        </select>
    </div>

    <div class="form-group">
        <label for="TipoDeCargo">Cargo:</label>
        <div class="form-help">Seleccione el cargo asociado</div>
        {% if errores.Cargo %}<div class="field-error">• {{ errores.Cargo.0 }}</div>{% endif %}
        <select name="Cargo" id="TipoDeCargo" class="input-text">
            <option value="">-- Seleccione --</option>
            {% for car in Cargos %}
                <option value="{{ car.IdCargos }}" {% if data.Cargo == car.IdCargos %}selected{% endif %}>
                    {{ car.TipoDeCargo }}
                </option>
            {% endfor %}
        </select>
    </div>

    <div class="form-group">
        <label for="SuperUserAsociado">Super Usuario Asociado:</label>
        <div class="form-help">Seleccione el superusuario asociado (opcional)</div>
        {% if errores.SuperUserAsociado %}<div class="field-error">• {{ errores.SuperUserAsociado.0 }}</div>{% endif %}
        <select name="SuperUserAsociado" id="SuperUserAsociado" class="input-text">
            <option value="">-- Ninguno --</option>
            {% for su in SuperUsuarios %}
                <option value="{{ su.id }}" {% if data.SuperUserAsociado == su.id %}selected{% endif %}>
                    {{ su.Username|default:su.username }}
                </option>
            {% endfor %}
        </select>
    </div>

    <div class="form-group">
        <label for="Password">Contraseña:</label>
        <div class="form-help">Ingrese la contraseña</div>
        {% if errores.Password %}<div class="field-error">• {{ errores.Password.0 }}</div>{% endif %}
        <input type="password" name="Password" id="Password" class="input-text">
    </div>

    <div class="form-group">
        <label for="ConfirmarPassword">Confirmar Contraseña:</label>
        <div class="form-help">Repita la contraseña</div>
        {% if errores.ConfirmarPassword %}<div class="field-error">• {{ errores.ConfirmarPassword.0 }}</div>{% endif %}
        <input type="password" name="ConfirmarPassword" id="ConfirmarPassword" class="input-text">
    </div>

    <input class="form-enviar" type="submit" value="ENVIAR"
           onclick="return confirm('¿Seguro que deseas enviar estos datos?')">
</form>
{% endblock %}