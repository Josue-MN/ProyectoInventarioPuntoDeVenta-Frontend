{% extends 'base-form.html' %}
<!-- Extiende la plantilla base de formulario, heredando estilos y estructura general -->

{% block title %}Registro de Categorías{% endblock %}
<!-- Define el título de la página que aparecerá en la pestaña del navegador -->


{% block header_title %}
<h1 class="header-title">REGISTRO DE CATEGORÍAS</h1>

{% if request.COOKIES.username|default:"" == "admin" %}
    <a href="{% url 'admin-crud-categoria' %}">
        <button class="button-header" type="button">Volver al Panel Admin</button>
    </a>
{% else %}
    <a href="{% url 'crud-categoria' %}">
        <button class="button-header" type="button">Volver al Inicio</button>
    </a>
{% endif %}
{% endblock %}

{% block extra_messages %}
    {% if errores %}
        <section class="messages">
            <div class="message">
                <h1>Corrige los errores en el formulario antes de continuar</h1>
            </div>
        </section>
    {% endif %}
{% endblock %}

{% block content %}
<form method="POST" novalidate>
    {% csrf_token %}

    <!-- ================================ -->
    <!-- NOMBRE DE CATEGORÍA -->
    <!-- ================================ -->
    <div class="form-group">
        <label for="NombreCategoria">Nombre de la Categoría:</label>
        <div class="form-help">Ingrese el nombre de la categoría</div>

        {% if errores.NombreCategoria %}
            <div class="field-error">• {{ errores.NombreCategoria.0 }}</div>
        {% endif %}

        <input 
            type="text" 
            name="NombreCategoria" 
            id="NombreCategoria" 
            placeholder="Ej: Bebidas" 
            class="input-text"
            value="{{ data.NombreCategoria|default:'' }}"
        >
    </div>

    <!-- ================================ -->
    <!-- DESCRIPCIÓN -->
    <!-- ================================ -->
    <div class="form-group">
        <label for="Descripcion">Descripción:</label>
        <div class="form-help">Ingrese una descripción breve de la categoría</div>

        {% if errores.Descripcion %}
            <div class="field-error">• {{ errores.Descripcion.0 }}</div>
        {% endif %}

        <textarea 
            name="Descripcion" 
            id="Descripcion" 
            placeholder="Ej: Productos líquidos y gaseosos" 
            class="input-text"
        >{{ data.Descripcion|default:'' }}</textarea>
    </div>

    <!-- ================================ -->
    <!-- ESTADO -->
    <!-- ================================ -->
    <div class="form-group">
        <label for="Estado">Estado:</label>
        <div class="form-help">Seleccione el estado de la categoría (Activo/Inactivo)</div>

        {% if errores.Estado %}
            <div class="field-error">• {{ errores.Estado.0 }}</div>
        {% endif %}

        <select name="Estado" id="Estado" class="input-text">
            <option value="Seleccione…">Seleccione…</option>
            <option value="Activo" {% if data.Estado == "Activo" %}selected{% endif %}>Activo</option>
            <option value="Inactivo" {% if data.Estado == "Inactivo" %}selected{% endif %}>Inactivo</option>
        </select>
    </div>

    <!-- ================================ -->
    <!-- OBSERVACIONES -->
    <!-- ================================ -->
    <div class="form-group">
        <label for="Observaciones">Observaciones:</label>
        <div class="form-help">Ingrese cualquier comentario adicional sobre la categoría</div>

        {% if errores.Observaciones %}
            <div class="field-error">• {{ errores.Observaciones.0 }}</div>
        {% endif %}

        <textarea 
            name="Observaciones" 
            id="Observaciones" 
            placeholder="Ej: Categoría con productos perecibles" 
            class="input-text"
        >{{ data.Observaciones|default:'' }}</textarea>
    </div>

    <input 
        class="form-enviar" 
        type="submit" 
        value="ENVIAR" 
        onclick="return confirm('¿Seguro que deseas enviar estos datos?')"
    />
</form>
{% endblock %}
